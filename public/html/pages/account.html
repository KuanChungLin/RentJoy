{{define "css"}}
    <link href="/static/css/account.css" rel="stylesheet" />
{{end}}

{{define "content"}}
<section class="account">
    <div class="account-container">
        <div class="account-title">
            <img src="/static/images/user-icon.svg" alt="">
            <h2>個人資料</h2>
        </div>
        <div class="account-nav">
            <div class="account-nav-item select-item">
                <a href="#">我的帳戶</a>
            </div>
        </div>
        <div class="account-info">
            <div class="info-item">
                <div class="info-item-title">帳號</div>
                <div class="info-item-value">
                    <p>{{.Account}}</p>
                </div>
            </div>
            <div class="info-item">
                <div class="info-item-title">姓名</div>
                <div class="info-item-value">
                    <div class="value-detail">
                        <p>{{.LastName}} {{.FirstName}}</p>
                        <svg xmlns="http://www.w3.org/2000/svg" class="value-edit" x="0px" y="0px" width="30" height="30" viewBox="0 0 32 32">
                            <path d="M 23.90625 3.96875 C 22.859375 3.96875 21.8125 4.375 21 5.1875 L 5.1875 21 L 5.125 21.3125 L 4.03125 26.8125 L 3.71875 28.28125 L 5.1875 27.96875 L 10.6875 26.875 L 11 26.8125 L 26.8125 11 C 28.4375 9.375 28.4375 6.8125 26.8125 5.1875 C 26 4.375 24.953125 3.96875 23.90625 3.96875 Z M 23.90625 5.875 C 24.410156 5.875 24.917969 6.105469 25.40625 6.59375 C 26.378906 7.566406 26.378906 8.621094 25.40625 9.59375 L 24.6875 10.28125 L 21.71875 7.3125 L 22.40625 6.59375 C 22.894531 6.105469 23.402344 5.875 23.90625 5.875 Z M 20.3125 8.71875 L 23.28125 11.6875 L 11.1875 23.78125 C 10.53125 22.5 9.5 21.46875 8.21875 20.8125 Z M 6.9375 22.4375 C 8.136719 22.921875 9.078125 23.863281 9.5625 25.0625 L 6.28125 25.71875 Z" fill="#d8d8d8"></path>
                        </svg>
                    </div>
                </div>
                <div class="info-item-input">
                    <form class="input-area" action="/UpdateName" method="POST">
                        <p class="subtitle">姓</p>
                        <input type="text" name="LastName" value="{{.LastName}}" required>
                        <p class="subtitle">名</p>
                        <input type="text" name="FirstName" value="{{.FirstName}}" required>
                        {{if .NameErrorMsg}}
                            <span class="error-message text-danger d-block">{{.NameErrorMsg}}</span>
                        {{end}}
                        <div class="button-row">
                            <button class="cancel" type="button">取消</button>
                            <button class="submit" type="submit">確定修改</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="info-item">
                <div class="info-item-title">Email</div>
                <div class="info-item-value">
                    <div class="value-detail">
                        <p>{{.Email}}</p>
                        <svg xmlns="http://www.w3.org/2000/svg" class="value-edit" x="0px" y="0px" width="30" height="30" viewBox="0 0 32 32">
                            <path d="M 23.90625 3.96875 C 22.859375 3.96875 21.8125 4.375 21 5.1875 L 5.1875 21 L 5.125 21.3125 L 4.03125 26.8125 L 3.71875 28.28125 L 5.1875 27.96875 L 10.6875 26.875 L 11 26.8125 L 26.8125 11 C 28.4375 9.375 28.4375 6.8125 26.8125 5.1875 C 26 4.375 24.953125 3.96875 23.90625 3.96875 Z M 23.90625 5.875 C 24.410156 5.875 24.917969 6.105469 25.40625 6.59375 C 26.378906 7.566406 26.378906 8.621094 25.40625 9.59375 L 24.6875 10.28125 L 21.71875 7.3125 L 22.40625 6.59375 C 22.894531 6.105469 23.402344 5.875 23.90625 5.875 Z M 20.3125 8.71875 L 23.28125 11.6875 L 11.1875 23.78125 C 10.53125 22.5 9.5 21.46875 8.21875 20.8125 Z M 6.9375 22.4375 C 8.136719 22.921875 9.078125 23.863281 9.5625 25.0625 L 6.28125 25.71875 Z" fill="#d8d8d8"></path>
                        </svg>
                    </div>
                </div>
                <div class="info-item-input">
                    <form class="input-area" action="/UpdateEmail" method="POST">
                        <p class="subtitle d-inline">Email</p>
                        {{if .EmailErrorMsg}}
                            <span class="error-message text-danger">{{.EmailErrorMsg}}</span>
                        {{end}}
                        <input type="email" name="Email" value="{{.Email}}"required>
                        <div class="button-row">
                            <button class="cancel" type="button">取消</button>
                            <button class="submit" type="submit">確定修改</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="info-item">
                <div class="info-item-title">手機號碼</div>
                <div class="info-item-value">
                    <div class="value-detail">
                        <p class="phone-number">{{if .Phone}}{{.Phone}}{{else}}尚未設定{{end}}</p>
                    </div>
                </div>
                <div class="info-item-input">
                    <form class="input-area" action="/UpdatePhone" method="POST">
                        <p class="subtitle d-inline">手機號碼</p>
                        {{if .PhoneErrorMsg}}
                            <span class="error-message text-danger">{{.PhoneErrorMsg}}</span>
                        {{end}}
                        <input type="tel" name="Phone" value="{{.Phone}}"required>
                        <div class="button-row">
                            <button class="cancel" type="button">取消</button>
                            <button class="submit" type="submit">確定修改</button>
                        </div>
                    </form>
                </div>
            </div>
            {{if not .IsThirdPartyLogin}}
                <div class="info-item">
                    <div class="info-item-title">密碼</div>
                    <div class="info-item-value">
                        <div class="value-detail">
                            <p>已設定</p>
                            <svg xmlns="http://www.w3.org/2000/svg" class="value-edit" x="0px" y="0px" width="30" height="30" viewBox="0 0 32 32">
                                <path d="M 23.90625 3.96875 C 22.859375 3.96875 21.8125 4.375 21 5.1875 L 5.1875 21 L 5.125 21.3125 L 4.03125 26.8125 L 3.71875 28.28125 L 5.1875 27.96875 L 10.6875 26.875 L 11 26.8125 L 26.8125 11 C 28.4375 9.375 28.4375 6.8125 26.8125 5.1875 C 26 4.375 24.953125 3.96875 23.90625 3.96875 Z M 23.90625 5.875 C 24.410156 5.875 24.917969 6.105469 25.40625 6.59375 C 26.378906 7.566406 26.378906 8.621094 25.40625 9.59375 L 24.6875 10.28125 L 21.71875 7.3125 L 22.40625 6.59375 C 22.894531 6.105469 23.402344 5.875 23.90625 5.875 Z M 20.3125 8.71875 L 23.28125 11.6875 L 11.1875 23.78125 C 10.53125 22.5 9.5 21.46875 8.21875 20.8125 Z M 6.9375 22.4375 C 8.136719 22.921875 9.078125 23.863281 9.5625 25.0625 L 6.28125 25.71875 Z" fill="#d8d8d8"></path>
                            </svg>
                        </div>
                    </div>
                    <div class="info-item-input">
                        <form class="input-area" action="/UpdatePassword" method="POST">
                            <p class="subtitle d-inline">目前密碼</p>
                            {{if .PasswordErrorMsg}}
                                <span class="error-message text-danger" id="passwordError">{{.PasswordErrorMsg}}</span>
                            {{end}}
                            <input type="password" name="CurrentPassword" value="" required>
                            <p class="subtitle">新密碼</p>
                            <input type="password" name="NewPassword" value="" required>
                            <p class="subtitle">確認新密碼</p>
                            <input type="password" name="ConfirmNewPassword" value="" required>
                            <input type="hidden" id="success" value="{{if .PasswordUpdateSuccess}}{{.PasswordUpdateSuccess}}{{else}}check{{end}}">
                            <div class="button-row">
                                <button class="cancel" type="button">取消</button>
                                <button class="submit" type="submit">確定修改</button>
                            </div>
                        </form>
                    </div>
                </div>
            {{end}}
        </div>
    </div>
</section>
{{end}}

{{define "js"}}
<script src="/static/js/account.js"></script>
{{end}}